#!/bin/sh

# ðŸ”’ SECURITY HOOK â€” Commit message validation
# Verifica se a mensagem de commit contÃ©m caminhos locais

COMMIT_MSG_FILE="$1"
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

# PadrÃµes de caminhos locais proibidos
LOCAL_PATH_PATTERNS="/Users/|/Desktop|/Downloads|/Documents|/home/[^/]+/|C:\\\\Users\\\\"

# Verifica se a mensagem contÃ©m caminhos locais
if echo "$COMMIT_MSG" | grep -qiE "$LOCAL_PATH_PATTERNS"; then
  echo ""
  echo "ðŸ”’ ERRO: Mensagem de commit contÃ©m caminhos locais!"
  echo ""
  echo "A mensagem de commit nÃ£o pode conter caminhos de arquivos locais."
  echo "Remova referÃªncias a /Users/, /Desktop, /Downloads, etc."
  echo ""
  exit 1
fi

exit 0

